{"source":2,"revision":30,"description":null,"createdBy":{"displayName":"Daniel Otykier","url":"https://spsprodcus3.vssps.visualstudio.com/Ac72628b6-a3fa-436a-b8f8-34f6e9ad28f9/_apis/Identities/8a074c71-b79d-4b47-8567-43d2c3989583","_links":{"avatar":{"href":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"}},"id":"8a074c71-b79d-4b47-8567-43d2c3989583","uniqueName":"do@kapacity.dk","imageUrl":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5","descriptor":"msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"},"createdOn":"2019-02-07T06:16:49.347Z","modifiedBy":{"displayName":"Daniel Otykier","url":"https://spsprodcus3.vssps.visualstudio.com/Ac72628b6-a3fa-436a-b8f8-34f6e9ad28f9/_apis/Identities/8a074c71-b79d-4b47-8567-43d2c3989583","_links":{"avatar":{"href":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"}},"id":"8a074c71-b79d-4b47-8567-43d2c3989583","uniqueName":"do@kapacity.dk","imageUrl":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5","descriptor":"msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"},"modifiedOn":"2019-06-19T08:27:24.453Z","isDeleted":false,"variables":{"TargetDatabase":{"value":"AdventureWorks"}},"variableGroups":[],"environments":[{"id":1,"name":"Deploy to Test","rank":1,"owner":{"displayName":"Daniel Otykier","url":"https://spsprodcus3.vssps.visualstudio.com/Ac72628b6-a3fa-436a-b8f8-34f6e9ad28f9/_apis/Identities/8a074c71-b79d-4b47-8567-43d2c3989583","_links":{"avatar":{"href":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"}},"id":"8a074c71-b79d-4b47-8567-43d2c3989583","uniqueName":"do@kapacity.dk","imageUrl":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5","descriptor":"msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"},"variables":{"DWConnectionString":{"value":"Data Source=localhost;Initial Catalog=AdventureWorksDW2017_TEST;Integrated Security=True"},"TargetServer":{"value":"localhost\\TEST"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":1}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":2},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":9}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":17,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Fix data source connection string and deploy","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"echo (Model.DataSources[\"Azure SQLDW AdventureWorks\"] as ProviderDataSource).ConnectionString = \"SQLDW\"; > fixconnstr.cs\nTabularEditor.exe \"$(Build.DefinitionName)\\AdventureWorks\\Model.bim\" -S fixconnstr.cs -D \"$(TargetServer)\" \"$(TargetDatabase)\" -O -C \"SQLDW\" \"$(DWConnectionString)\" -W -V -E","workingDirectory":"","failOnStderr":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":true},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":31,"url":"https://tabulareditor.vsrm.visualstudio.com/55e503d5-7698-4a59-86a8-1ee59a170c61/_apis/Release/releases/31","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://tabulareditor.vsrm.visualstudio.com/_apis/public/Release/badge/55e503d5-7698-4a59-86a8-1ee59a170c61/1/1"},{"id":3,"name":"Deploy to Prod","rank":2,"owner":{"displayName":"Daniel Otykier","url":"https://spsprodcus3.vssps.visualstudio.com/Ac72628b6-a3fa-436a-b8f8-34f6e9ad28f9/_apis/Identities/8a074c71-b79d-4b47-8567-43d2c3989583","_links":{"avatar":{"href":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"}},"id":"8a074c71-b79d-4b47-8567-43d2c3989583","uniqueName":"do@kapacity.dk","imageUrl":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5","descriptor":"msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"},"variables":{"DWConnectionString":{"value":"Data Source=localhost;Initial Catalog=AdventureWorksDW2017;Integrated Security=True"},"TargetServer":{"value":"localhost\\PROD"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":false,"isNotificationOn":false,"approver":{"displayName":"Daniel Otykier","url":"https://spsprodcus3.vssps.visualstudio.com/Ac72628b6-a3fa-436a-b8f8-34f6e9ad28f9/_apis/Identities/8a074c71-b79d-4b47-8567-43d2c3989583","_links":{"avatar":{"href":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"}},"id":"8a074c71-b79d-4b47-8567-43d2c3989583","uniqueName":"do@kapacity.dk","imageUrl":"https://tabulareditor.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5","descriptor":"msa.NTEyMTFkMzktYmI0Yi03ZDhkLWE3MTAtMDRmYjdkNmFmODg5"},"id":13}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":true,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":11},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":12}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":17,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Fix data source connection string and deploy","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"echo (Model.DataSources[\"Azure SQLDW AdventureWorks\"] as ProviderDataSource).ConnectionString = \"SQLDW\"; > fixconnstr.cs\nTabularEditor.exe \"$(Build.DefinitionName)\\AdventureWorks\\Model.bim\" -S fixconnstr.cs -D \"$(TargetServer)\" \"$(TargetDatabase)\" -O -C \"SQLDW\" \"$(DWConnectionString)\" -W -V -E","workingDirectory":"","failOnStderr":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"Deploy to Test","conditionType":2,"value":"4"},{"name":"TabularDevOps-BasicBuildPipeline","conditionType":4,"value":"{\"sourceBranch\":\"master\",\"tags\":[],\"useBuildDefinitionBranch\":false,\"createReleaseOnBuildTagging\":false}"}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":25,"url":"https://tabulareditor.vsrm.visualstudio.com/55e503d5-7698-4a59-86a8-1ee59a170c61/_apis/Release/releases/25","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://tabulareditor.vsrm.visualstudio.com/_apis/public/Release/badge/55e503d5-7698-4a59-86a8-1ee59a170c61/1/3"}],"artifacts":[{"sourceId":"55e503d5-7698-4a59-86a8-1ee59a170c61:4","type":"Build","alias":"TabularDevOps-BasicBuildPipeline","definitionReference":{"artifactSourceDefinitionUrl":{"id":"https://tabulareditor.visualstudio.com/_permalink/_build/index?collectionId=12d52cff-284b-4a75-ad32-93a70d30d5f6&projectId=55e503d5-7698-4a59-86a8-1ee59a170c61&definitionId=4","name":""},"defaultVersionBranch":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionTags":{"id":"","name":""},"defaultVersionType":{"id":"latestType","name":"Latest"},"definition":{"id":"4","name":"TabularDevOps-BasicPipeline"},"project":{"id":"55e503d5-7698-4a59-86a8-1ee59a170c61","name":"TabularDevOps"}},"isPrimary":true,"isRetained":false}],"triggers":[{"artifactAlias":"TabularDevOps-BasicBuildPipeline","triggerConditions":[{"sourceBranch":"test","tags":[],"useBuildDefinitionBranch":false,"createReleaseOnBuildTagging":false},{"sourceBranch":"master","tags":[],"useBuildDefinitionBranch":false,"createReleaseOnBuildTagging":false}],"triggerType":1},{"artifactAlias":"TabularDevOps-BasicBuildPipeline","triggerConditions":[{"targetBranch":"test","tags":[]},{"targetBranch":"master","tags":[]}],"pullRequestConfiguration":{"useArtifactReference":false,"codeRepositoryReference":{"systemType":1,"repositoryReference":{"pullRequestRepositoryId":{"value":"d6f0bc63-f581-45f8-a7e4-78786176e9bc","displayValue":"TabularDevOps"},"pullRequestProjectId":{"value":"55e503d5-7698-4a59-86a8-1ee59a170c61","displayValue":"TabularDevOps"}}}},"statusPolicyName":"","triggerType":6}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"pipelineProcess":{"type":1},"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"BuildSummary"}},"id":1,"name":"TabularDevOps-ReleasePipeline","path":"\\","projectReference":null,"url":"https://tabulareditor.vsrm.visualstudio.com/55e503d5-7698-4a59-86a8-1ee59a170c61/_apis/Release/definitions/1","_links":{"self":{"href":"https://tabulareditor.vsrm.visualstudio.com/55e503d5-7698-4a59-86a8-1ee59a170c61/_apis/Release/definitions/1"},"web":{"href":"https://tabulareditor.visualstudio.com/55e503d5-7698-4a59-86a8-1ee59a170c61/_release?definitionId=1"}}}